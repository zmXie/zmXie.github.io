(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[47],{

/***/ 605:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/@vuepress/core/node_modules/.cache/vuepress","cacheIdentifier":"18d1decd-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??ref--1-1!./node_modules/@vuepress/markdown-loader??ref--1-2!./blogs/frontEnd/20230619-vue2-3.md?vue&type=template&id=4e6c2f98&
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ContentSlotsDistributor',{attrs:{"slot-key":_vm.$parent.slotKey}},[_c('p',[_vm._v("新项目准备用 Vue3 开发，但是组件库是 Vue2，该如何兼容？")]),_vm._v(" "),_c('h3',{attrs:{"id":"方案-1-使用-vue-compat兼容版本"}},[_c('a',{staticClass:"header-anchor",attrs:{"href":"#方案-1-使用-vue-compat兼容版本"}},[_vm._v("#")]),_vm._v(" 方案 1：使用"),_c('code',[_vm._v("@vue/compat")]),_vm._v("兼容版本")]),_vm._v(" "),_c('ul',[_c('li',[_vm._v("使用 Vue3 的兼容模式，可以在 Vue3 项目中直接使用 Vue2 组件。")]),_vm._v(" "),_c('li',[_vm._v("步骤：\n"),_c('ol',[_c('li',[_vm._v("安装兼容版本"),_c('div',{staticClass:"language-js line-numbers-mode"},[_c('pre',{pre:true,attrs:{"class":"language-js"}},[_c('code',[_vm._v("npm install vue@compat\n")])]),_vm._v(" "),_c('div',{staticClass:"line-numbers-wrapper"},[_c('span',{staticClass:"line-number"},[_vm._v("1")]),_c('br')])])]),_vm._v(" "),_c('li',[_vm._v("添加兼容模式插件"),_c('div',{staticClass:"language-js line-numbers-mode"},[_c('pre',{pre:true,attrs:{"class":"language-js"}},[_c('code',[_c('span',{pre:true,attrs:{"class":"token keyword"}},[_vm._v("import")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v("{")]),_vm._v(" createApp "),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v("}")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token keyword"}},[_vm._v("from")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token string"}},[_vm._v("'vue'")]),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(";")]),_vm._v("\n"),_c('span',{pre:true,attrs:{"class":"token keyword"}},[_vm._v("import")]),_vm._v(" App "),_c('span',{pre:true,attrs:{"class":"token keyword"}},[_vm._v("from")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token string"}},[_vm._v("'./App.vue'")]),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(";")]),_vm._v("\n"),_c('span',{pre:true,attrs:{"class":"token keyword"}},[_vm._v("const")]),_vm._v(" app "),_c('span',{pre:true,attrs:{"class":"token operator"}},[_vm._v("=")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token function"}},[_vm._v("createApp")]),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v("(")]),_vm._v("App"),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(")")]),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(";")]),_vm._v("\n"),_c('span',{pre:true,attrs:{"class":"token comment"}},[_vm._v("// 设置兼容模式选项")]),_vm._v("\napp"),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(".")]),_vm._v("config"),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(".")]),_vm._v("compatConfig "),_c('span',{pre:true,attrs:{"class":"token operator"}},[_vm._v("=")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v("{")]),_vm._v("\n  "),_c('span',{pre:true,attrs:{"class":"token constant"}},[_vm._v("MODE")]),_c('span',{pre:true,attrs:{"class":"token operator"}},[_vm._v(":")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("2")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token comment"}},[_vm._v("// 启用兼容模式，可以在不修改Vue2组件的情况下使用它们")]),_vm._v("\n"),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v("}")]),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(";")]),_vm._v("\napp"),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(".")]),_c('span',{pre:true,attrs:{"class":"token function"}},[_vm._v("mount")]),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v("(")]),_c('span',{pre:true,attrs:{"class":"token string"}},[_vm._v("'#app'")]),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(")")]),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(";")]),_vm._v("\n")])]),_vm._v(" "),_c('div',{staticClass:"line-numbers-wrapper"},[_c('span',{staticClass:"line-number"},[_vm._v("1")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("2")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("3")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("4")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("5")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("6")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("7")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("8")]),_c('br')])])]),_vm._v(" "),_c('li',[_vm._v("使用 Vue2 组件"),_c('div',{staticClass:"language-js line-numbers-mode"},[_c('pre',{pre:true,attrs:{"class":"language-js"}},[_c('code',[_c('span',{pre:true,attrs:{"class":"token keyword"}},[_vm._v("import")]),_vm._v(" Vue "),_c('span',{pre:true,attrs:{"class":"token keyword"}},[_vm._v("from")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token string"}},[_vm._v("'vue'")]),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(";")]),_vm._v("\n"),_c('span',{pre:true,attrs:{"class":"token keyword"}},[_vm._v("import")]),_vm._v(" MyVue2Component "),_c('span',{pre:true,attrs:{"class":"token keyword"}},[_vm._v("from")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token string"}},[_vm._v("'./path/to/MyVue2Component.vue'")]),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(";")]),_vm._v("\n"),_c('span',{pre:true,attrs:{"class":"token comment"}},[_vm._v("// 注册 Vue 2 组件")]),_vm._v("\napp"),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(".")]),_c('span',{pre:true,attrs:{"class":"token function"}},[_vm._v("component")]),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v("(")]),_c('span',{pre:true,attrs:{"class":"token string"}},[_vm._v("'MyVue2Component'")]),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(",")]),_vm._v(" MyVue2Component"),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(")")]),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(";")]),_vm._v("\n")])]),_vm._v(" "),_c('div',{staticClass:"line-numbers-wrapper"},[_c('span',{staticClass:"line-number"},[_vm._v("1")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("2")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("3")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("4")]),_c('br')])])])])]),_vm._v(" "),_c('li',[_vm._v("优缺点\n"),_c('ul',[_c('li',[_vm._v("优点：不需要重写组件，且可以逐步迁移，可以在后续版本中通过警告逐步迁移至 Vue3")]),_vm._v(" "),_c('li',[_vm._v("缺点：性能受到一定影响（需要兼容 Vue2 的响应式系统），非长期解决方案，最终的目的是全面升级到 Vue3")])])])]),_vm._v(" "),_c('h3',{attrs:{"id":"方案-2-通过自定义元素web-components使用-vue2-组件"}},[_c('a',{staticClass:"header-anchor",attrs:{"href":"#方案-2-通过自定义元素web-components使用-vue2-组件"}},[_vm._v("#")]),_vm._v(" 方案 2：通过自定义元素"),_c('code',[_vm._v("Web Components")]),_vm._v("使用 Vue2 组件")]),_vm._v(" "),_c('ul',[_c('li',[_vm._v("使用"),_c('code',[_vm._v("vue-custom-elememt")]),_vm._v("插件，将 Vue2 组件封装成 Web Components 自定义元素，这样 Vue2 组件的运行环境、依赖都在元素内部，与外部环境隔离开来，然后在 Vue3 中像使用 HTML 标签一样使用这些组件，浏览器会识别自定义元素，并执行内部逻辑。")]),_vm._v(" "),_c('li',[_vm._v("步骤：\n"),_c('ol',[_c('li',[_vm._v("安装插件"),_c('div',{staticClass:"language-js line-numbers-mode"},[_c('pre',{pre:true,attrs:{"class":"language-js"}},[_c('code',[_vm._v("npm install vue"),_c('span',{pre:true,attrs:{"class":"token operator"}},[_vm._v("-")]),_vm._v("custom"),_c('span',{pre:true,attrs:{"class":"token operator"}},[_vm._v("-")]),_vm._v("element "),_c('span',{pre:true,attrs:{"class":"token operator"}},[_vm._v("--")]),_vm._v("save\n")])]),_vm._v(" "),_c('div',{staticClass:"line-numbers-wrapper"},[_c('span',{staticClass:"line-number"},[_vm._v("1")]),_c('br')])])]),_vm._v(" "),_c('li',[_vm._v("将 Vue2 组件注册为自定义元素"),_c('div',{staticClass:"language-js line-numbers-mode"},[_c('pre',{pre:true,attrs:{"class":"language-js"}},[_c('code',[_c('span',{pre:true,attrs:{"class":"token keyword"}},[_vm._v("import")]),_vm._v(" Vue "),_c('span',{pre:true,attrs:{"class":"token keyword"}},[_vm._v("from")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token string"}},[_vm._v("'vue'")]),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(";")]),_vm._v("\n"),_c('span',{pre:true,attrs:{"class":"token keyword"}},[_vm._v("import")]),_vm._v(" vueCustomElement "),_c('span',{pre:true,attrs:{"class":"token keyword"}},[_vm._v("from")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token string"}},[_vm._v("'vue-custom-element'")]),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(";")]),_vm._v("\n"),_c('span',{pre:true,attrs:{"class":"token keyword"}},[_vm._v("import")]),_vm._v(" MyComponent "),_c('span',{pre:true,attrs:{"class":"token keyword"}},[_vm._v("from")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token string"}},[_vm._v("'./MyComponent.vue'")]),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(";")]),_vm._v("\nVue"),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(".")]),_c('span',{pre:true,attrs:{"class":"token function"}},[_vm._v("use")]),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v("(")]),_vm._v("vueCustomElement"),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(")")]),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(";")]),_vm._v("\nVue"),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(".")]),_c('span',{pre:true,attrs:{"class":"token function"}},[_vm._v("customElement")]),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v("(")]),_c('span',{pre:true,attrs:{"class":"token string"}},[_vm._v("'my-component'")]),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(",")]),_vm._v(" MyComponent"),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(")")]),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(";")]),_vm._v("\n")])]),_vm._v(" "),_c('div',{staticClass:"line-numbers-wrapper"},[_c('span',{staticClass:"line-number"},[_vm._v("1")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("2")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("3")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("4")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("5")]),_c('br')])])]),_vm._v(" "),_c('li',[_vm._v("使用自定义元素"),_c('div',{staticClass:"language-html line-numbers-mode"},[_c('pre',{pre:true,attrs:{"class":"language-html"}},[_c('code',[_c('span',{pre:true,attrs:{"class":"token tag"}},[_c('span',{pre:true,attrs:{"class":"token tag"}},[_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v("<")]),_vm._v("my-component")]),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(">")])]),_c('span',{pre:true,attrs:{"class":"token tag"}},[_c('span',{pre:true,attrs:{"class":"token tag"}},[_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v("</")]),_vm._v("my-component")]),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(">")])]),_vm._v("\n")])]),_vm._v(" "),_c('div',{staticClass:"line-numbers-wrapper"},[_c('span',{staticClass:"line-number"},[_vm._v("1")]),_c('br')])])])])]),_vm._v(" "),_c('li',[_vm._v("优缺点：\n"),_c('ul',[_c('li',[_vm._v("优点：不需要修改组件，且与外部框架完全隔离，不需要考虑兼容问题，适用于不打算迁移到 Vue3 的情况。")]),_vm._v(" "),_c('li',[_vm._v("缺点：性能开销变大，每一个自定义元素在运行时需要一个独立的 Vue2 实例，大量使用自定义元素会导致性能下降。")])])])])])}
var staticRenderFns = []


// CONCATENATED MODULE: ./blogs/frontEnd/20230619-vue2-3.md?vue&type=template&id=4e6c2f98&

// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__(10);

// CONCATENATED MODULE: ./blogs/frontEnd/20230619-vue2-3.md

var script = {}


/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  script,
  render,
  staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var _20230619_vue2_3 = __webpack_exports__["default"] = (component.exports);

/***/ })

}]);